<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>tasks-tracker</title>
    <meta name="author" content="Aled5" />
    <meta name="description" content="This is a application to track tasks." />
    <!--<link rel="icon" href="images/tasks.ico" type="image/x-icon" /> -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header></header>
    <nav></nav>
    <main>
      <h1>Today's tasks</h1>
      <div>
        <label for="item">Enter a new task:</label>
        <input type="text" name="item" id="item">
        <button>Add item</button>
      </div>
  
      <ul></ul>

    </main>
    <aside></aside>
    <footer></footer>

    <script>
      //1. Get the input, button and ul elements
      const input = document.querySelector('input');
      const button = document.querySelector('button');
      const ul = document.querySelector('ul');
      
      //2. Add an event listener to the button and call the additem function
      button.addEventListener('click', additem);

      function additem() {
        //3. Get the value of the input and clear it

        const text_input = input.value; // Get the value of the input
        //console.log(text_input);
        input.value = '';  // Clear the input

        //4. Create three new elements a <li>, a <span> and a <button>
        const li_new_element = document.createElement('li');
        const span_new_element = document.createElement('span');
        const button_new_element = document.createElement('button'); 

        //5. Append the span and the button as children of the list item.
        li_new_element.appendChild(span_new_element);
        li_new_element.appendChild(button_new_element);

        //6. Set the text content of the span to the input value
        span_new_element.textContent = text_input;

        //7. Set the text content of the button to 'Delete'
        button_new_element.textContent = 'Delete';
        
        //8. Append the list item to the original unordered list in the HTML file
        ul.appendChild(li_new_element);
        
        //9. Add an event listener to the button and a function to remove the list item when clicked
        li_new_element.addEventListener('click', function() {
          ul.removeChild(li_new_element);
        });
        
        //10. Focus the input element
        input.focus();

      }
    </script>
  </body>
</html>